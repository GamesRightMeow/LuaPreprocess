<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="width=device-width, initial-scale=1" name="viewport">
		<meta content="LuaWebGen 1.5.0" name="generator">

		<meta content="Official website for LuaPreprocess - the small and straightforward Lua preprocessor with simple syntax." name="description">

		<meta content="website" name="og:type">
		<meta content="Command line - Documentation - LuaPreprocess" name="og:title">
		<meta content="Official website for LuaPreprocess - the small and straightforward Lua preprocessor with simple syntax." name="og:description">

		<meta content="http://refreezed.com/luapreprocess/logo.png" name="og:image">

		<meta content="http://refreezed.com/luapreprocess/docs/command-line/" name="og:url">
		<meta content="en_US" name="og:locale">
		<meta content="LuaPreprocess" name="og:site_name">

		<title>Command line - Documentation - LuaPreprocess</title>

		<link href="http://refreezed.com/luapreprocess/docs/command-line/" rel="canonical">
		<link href="/style.css" rel="stylesheet">
		<link href="/luapreprocess/favicon.ico" rel="shortcut icon" type="image/x-icon">

		<script src="/main.js"></script>
	</head>

	<body data-site="luapreprocess">
		<header>

				<div id="home">
					<a href="/">« ReFreezed.com</a>
				</div>

			<a class="siteFront" href="/luapreprocess/"><img alt="LuaPreprocess" class="limitSize" height="126" src="/luapreprocess/logo.png" width="600"></a>
		</header>

		<nav id="main-navigation">

				<ul>

							<li><a href="/luapreprocess/">About</a></li>

							<li><a href="https://github.com/ReFreezed/LuaPreprocess/releases/latest">Download</a></li>

							<li><a href="/luapreprocess/docs/"><strong>Documentation</strong></a></li>

							<li><a href="/luapreprocess/highlight/">Highlighter</a></li>

							<li><a href="https://github.com/ReFreezed/LuaPreprocess/issues">Issue Tracker</a></li>

							<li><a href="https://github.com/ReFreezed/LuaPreprocess">Source</a></li>

				</ul>

		</nav>

		<div class="middleOuter"><div class="middleInner">

	<nav id="sidebar"><div>
		<input id="hideTopics" role="button" style="display:none;" type="checkbox">
		<script>{
			let checkbox     = document.getElementById("hideTopics");
			checkbox.checked = (localStorageGet("docs_topicsHidden") === "1");

			checkbox.addEventListener("change", function(e) {
				if (checkbox.checked)  localStorageSet("docs_topicsHidden", "1");
				else                   localStorageRemove("docs_topicsHidden");
			});
		}</script>

		<div class="title">
			<h1>Topics</h1>
			<span class="hideTopics"><label for="hideTopics"></label></span>
		</div>

		<ul class="topics">
			<li><a href="/luapreprocess/docs/">Home</a><ul><li><a href="/luapreprocess/docs/#how-to-metaprogram">How to metaprogram</a></li><li><a href="/luapreprocess/docs/#two-ways-of-generating-code">Two ways of generating code</a></li><li><a href="/luapreprocess/docs/#potential-gotchas">Potential gotchas</a></li></ul></li><li><a href="/luapreprocess/docs/api/">API</a></li><li><strong>Command line</strong><ul><li><a href="/luapreprocess/docs/command-line/#command-line-usage">Command line usage</a></li><li><a href="/luapreprocess/docs/command-line/#options">Options</a></li><li><a href="/luapreprocess/docs/command-line/#message-handlers">Message handlers</a></li><li><a href="/luapreprocess/docs/command-line/#messages">Messages</a></li><li><a href="/luapreprocess/docs/command-line/#other-info">Other info</a></li></ul></li><li><a href="/luapreprocess/docs/extra-functionality/">Extra functionality</a><ul><li><a href="/luapreprocess/docs/extra-functionality/#preprocessor-keywords">Preprocessor keywords</a></li><li><a href="/luapreprocess/docs/extra-functionality/#preprocessor-symbols">Preprocessor symbols</a></li><li><a href="/luapreprocess/docs/extra-functionality/#backtick-strings">Backtick strings</a></li></ul></li>
		</ul>
	</div></nav>

<main>

		<h1>Command line</h1>

	<ul>
<li><a href="#command-line-usage">Command line usage</a><ul>
<li><a href="#examples">Examples</a></li>
</ul>
</li>
<li><a href="#options">Options</a></li>
<li><a href="#message-handlers">Message handlers</a></li>
<li><a href="#messages">Messages</a></li>
<li><a href="#other-info">Other info</a></li>
</ul>
<hr>
<h2 id="command-line-usage">Command line usage<a aria-hidden="true" class="anchor" href="#command-line-usage"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h2>
<p>Values inside square brackets (<code>[]</code>) are optional.</p>
<p><strong>Windows:</strong></p>
<pre class="syntax-batch"><code>Preprocess.cmd [options] [--] filepath1 [filepath2 ...]
OR
Preprocess.cmd --outputpaths [options] [--] inputpath1 outputpath1 [inputpath2 outputpath2 ...]
</code></pre>
<p><strong>Any system:</strong></p>
<pre class="syntax-batch"><code>lua preprocess-cl.lua [options] [--] filepath1 [filepath2 ...]
OR
lua preprocess-cl.lua --outputpaths [options] [--] inputpath1 outputpath1 [inputpath2 outputpath2 ...]
</code></pre>
<p><strong>Exit codes:</strong></p>
<ul>
<li>0: The script executed successfully.</li>
<li>1: An error happened.</li>
</ul>
<h3 id="examples">Examples<a aria-hidden="true" class="anchor" href="#examples"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<pre class="syntax-batch"><code>lua preprocess-cl.lua --saveinfo=logs/info.lua --silent src/main.lua2p src/network.lua2p
lua preprocess-cl.lua --debug src/main.lua2p src/network.lua2p
lua preprocess-cl.lua --outputpaths --linenumbers  src/main.lua2p output/main.lua  src/network.lua2p output/network.lua
</code></pre>
<h2 id="options">Options<a aria-hidden="true" class="anchor" href="#options"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h2>
<ul>
<li><a href="#backtickstrings">--backtickstrings</a></li>
<li><a href="#data">--data</a></li>
<li><a href="#faststrings">--faststrings</a></li>
<li><a href="#handler">--handler</a></li>
<li><a href="#help">--help</a></li>
<li><a href="#jitsyntax">--jitsyntax</a></li>
<li><a href="#linenumbers">--linenumbers</a></li>
<li><a href="#loglevel">--loglevel</a></li>
<li><a href="#macroprefix">--macroprefix</a></li>
<li><a href="#macrosuffix">--macrosuffix</a></li>
<li><a href="#meta">--meta</a></li>
<li><a href="#nogc">--nogc</a></li>
<li><a href="#nonil">--nonil</a></li>
<li><a href="#nostrictmacroarguments">--nostrictmacroarguments</a></li>
<li><a href="#novalidate">--novalidate</a></li>
<li><a href="#outputextension">--outputextension</a></li>
<li><a href="#outputpaths">--outputpaths</a></li>
<li><a href="#release">--release</a></li>
<li><a href="#saveinfo">--saveinfo</a></li>
<li><a href="#silent">--silent</a></li>
<li><a href="#version">--version</a></li>
<li><a href="#debug">--debug</a></li>
<li><a href="#dash-dash">--</a></li>
</ul>
<h3 id="backtickstrings">--backtickstrings<a aria-hidden="true" class="anchor" href="#backtickstrings"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--backtickstrings</code></p>
<p><small class="tag tag-version" title="Added in version 1.11.2">v1.11.2</small>
Enable <a href="/luapreprocess/docs/extra-functionality/#backtick-strings">backtick strings</a>.</p>
<h3 id="data">--data<a aria-hidden="true" class="anchor" href="#data"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--data=&quot;Any data.&quot;</code> or <code>-d=&quot;Any data.&quot;</code></p>
<p><small class="tag tag-version" title="Added in version 1.9">v1.9</small>
A string with any data.
If this option is present then the value will be available through the global <code>dataFromCommandLine</code>
in the processed files (and any message handler).
Otherwise, <code>dataFromCommandLine</code> is <strong>nil</strong>.</p>
<h3 id="faststrings">--faststrings<a aria-hidden="true" class="anchor" href="#faststrings"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--faststrings</code></p>
<p><small class="tag tag-version" title="Added in version 1.13.1">v1.13.1</small>
Force fast serialization of string values. (Non-ASCII characters will look ugly.)</p>
<h3 id="handler">--handler<a aria-hidden="true" class="anchor" href="#handler"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--handler=pathToMessageHandler</code> or <code>-h=pathToMessageHandler</code></p>
<p>Path to a Lua file that&apos;s expected to return a function, or a table of functions, that handles messages.
(See <a href="#message-handlers">Message Handlers</a> and <a href="#messages">Messages</a> for more info.)</p>
<h3 id="help">--help<a aria-hidden="true" class="anchor" href="#help"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--help</code></p>
<p><small class="tag tag-version" title="Added in version 1.20">v1.20</small>
Print the command line help topics.</p>
<h3 id="jitsyntax">--jitsyntax<a aria-hidden="true" class="anchor" href="#jitsyntax"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--jitsyntax</code></p>
<p><small class="tag tag-version" title="Added in version 1.12">v1.12</small>
Allow <a href="https://luajit.org/ext_ffi_api.html#literals">LuaJIT-specific syntax</a>, specifically literals for 64-bit integers (<code>42LL</code>, <code>0x2aULL</code>), complex numbers (<code>12.5i</code>) and binary numbers (<code>0b110010</code>).</p>
<h3 id="linenumbers">--linenumbers<a aria-hidden="true" class="anchor" href="#linenumbers"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--linenumbers</code></p>
<p>Add comments with line numbers to the output.</p>
<h3 id="loglevel">--loglevel<a aria-hidden="true" class="anchor" href="#loglevel"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--loglevel=levelName</code></p>
<p><small class="tag tag-version" title="Added in version 1.17">v1.17</small>
Set maximum log level for the <a href="/luapreprocess/docs/api/#log"><code>LOG</code></a> macro.
Can be <code>&quot;off&quot;</code>, <code>&quot;error&quot;</code>, <code>&quot;warning&quot;</code>, <code>&quot;info&quot;</code>, <code>&quot;debug&quot;</code> or <code>&quot;trace&quot;</code>.
The default is <code>&quot;trace&quot;</code>, which enables all logging.</p>
<h3 id="macroprefix">--macroprefix<a aria-hidden="true" class="anchor" href="#macroprefix"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--macroprefix=prefix</code></p>
<p><small class="tag tag-version" title="Added in version 1.17">v1.17</small>
String to prepend to macro names (e.g. make <code>@@FOO()</code> call the function <code>MACRO_FOO()</code>).</p>
<h3 id="macrosuffix">--macrosuffix<a aria-hidden="true" class="anchor" href="#macrosuffix"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--macrosuffix=suffix</code></p>
<p><small class="tag tag-version" title="Added in version 1.17">v1.17</small>
String to append to macro names.</p>
<h3 id="meta">--meta<a aria-hidden="true" class="anchor" href="#meta"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--meta</code><br>
<code>--meta=pathToSaveMetaprogramTo</code> <small class="tag tag-version" title="Added in version 1.20">v1.20</small></p>
<p><small class="tag tag-version" title="Added in version 1.2">v1.2</small>
Output the metaprogram to a temporary file (<code>*.meta.lua</code>), if a metaprogram is generated.
This is useful if an error happens when the metaprogram runs.
The file is removed if there&apos;s no error and <a href="#debug"><code>--debug</code></a> isn&apos;t enabled.</p>
<h3 id="nogc">--nogc<a aria-hidden="true" class="anchor" href="#nogc"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--nogc</code></p>
<p><small class="tag tag-version" title="Added in version 1.14.1">v1.14.1</small>
Stop the garbage collector.
Same as calling <code>collectgarbage(&quot;stop&quot;)</code>.
This may speed up the preprocessing.</p>
<h3 id="nonil">--nonil<a aria-hidden="true" class="anchor" href="#nonil"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--nonil</code></p>
<p><small class="tag tag-version" title="Added in version 1.11.2">v1.11.2</small>
Disallow <code>!(expression)</code> and <a href="/luapreprocess/docs/api/#outputvalue"><code>outputValue()</code></a> from outputting <strong>nil</strong>.</p>
<h3 id="nostrictmacroarguments">--nostrictmacroarguments<a aria-hidden="true" class="anchor" href="#nostrictmacroarguments"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--nostrictmacroarguments</code></p>
<p><small class="tag tag-version" title="Added in version 1.21">v1.21</small>
Disable checks that macro arguments are valid Lua expressions.</p>
<h3 id="novalidate">--novalidate<a aria-hidden="true" class="anchor" href="#novalidate"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--novalidate</code></p>
<p><small class="tag tag-version" title="Added in version 1.12">v1.12</small>
Disable validation of outputted Lua.</p>
<h3 id="outputextension">--outputextension<a aria-hidden="true" class="anchor" href="#outputextension"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--outputextension=fileExtension</code></p>
<p>Specify what file extension generated files should have.
The default extension is <code>&quot;lua&quot;</code>.
If any input files end with <code>.lua</code> then you must specify another file extension with this option (or use <a href="#outputpaths"><code>--outputpaths</code></a>).</p>
<blockquote>
<p>It&apos;s suggested that you use <code>.lua2p</code> (as in &quot;Lua To Process&quot;) as extension for unprocessed files.</p>
</blockquote>
<h3 id="outputpaths">--outputpaths<a aria-hidden="true" class="anchor" href="#outputpaths"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--outputpaths</code> or <code>-o</code></p>
<p><small class="tag tag-version" title="Added in version 1.9">v1.9</small>
This flag makes every other specified path be the output path for the previous path. Example:</p>
<pre class="syntax-batch"><code>lua preprocess-cl.lua --outputpaths  src/main.lua2p output/main.lua  src/network.lua2p output/network.lua
</code></pre>
<h3 id="release">--release<a aria-hidden="true" class="anchor" href="#release"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--release</code></p>
<p><small class="tag tag-version" title="Added in version 1.17">v1.17</small>
Enable release mode.
Currently only disables the <a href="/luapreprocess/docs/api/#assert"><code>ASSERT</code></a> macro.</p>
<h3 id="saveinfo">--saveinfo<a aria-hidden="true" class="anchor" href="#saveinfo"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--saveinfo=pathToSaveProcessingInfoTo</code> or <code>-i=pathToSaveProcessingInfoTo</code></p>
<p>Processing information includes what files had any preprocessor code in them, and things like that.
The format of the file is a Lua module that returns <a href="#processinginfo"><code>processingInfo</code></a>.</p>
<h3 id="silent">--silent<a aria-hidden="true" class="anchor" href="#silent"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--silent</code></p>
<p>Only print errors to the console.</p>
<h3 id="version">--version<a aria-hidden="true" class="anchor" href="#version"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--version</code></p>
<p><small class="tag tag-version" title="Added in version 1.20">v1.20</small>
Print the version of LuaPreprocess to <code>stdout</code> and exit.</p>
<h3 id="debug">--debug<a aria-hidden="true" class="anchor" href="#debug"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><code>--debug</code></p>
<p>Enable some preprocessing debug features.
Useful if you want to inspect the metaprogram (<code>*.meta.lua</code>) if one is generated.
(This also enables the <a href="#meta"><code>--meta</code></a> option.)</p>
<p><h3 id="dash-dash">--<a aria-hidden="true" class="anchor" href="#dash-dash"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3></p>
<p><code>--</code></p>
<p>Stop options from being parsed further.
Needed if you have paths starting with <code>&quot;-&quot;</code>.</p>
<h2 id="message-handlers">Message handlers<a aria-hidden="true" class="anchor" href="#message-handlers"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h2>
<p>Messages are sent when events happen, for example before a metaprogram runs or after the output has been written to file.</p>
<p>There are two ways of catching and handling messages (in the file specified by <a href="#handler"><code>--handler</code></a>) - either by returning a function or a table.
If the file returns a <em>function</em> then it will be called with various <a href="#messages">messages</a> as its first argument.
If the file returns a <em>table</em>, the keys should be the <a href="#messages">message names</a> and the values should be functions to handle the respective message. (See below.)</p>
<p>The file shares the same environment as the processed files, making it a good place to put things all files use/share in their metaprogram (i.e. global functions and other values).</p>
<h3 id="using-multiple-specific-message-handlers">Using multiple specific message handlers<a aria-hidden="true" class="anchor" href="#using-multiple-specific-message-handlers"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<pre class="syntax-lua"><code><span class="c">-- messageHandler.lua
</span><span class="k">return</span> {
	beforemeta = <span class="k">function</span>(path)
		print(<span class="s">&quot;... Now processing &quot;</span>..path)
	<span class="k">end</span>,

	aftermeta = <span class="k">function</span>(path, luaString)
		<span class="c">-- Remove comments (quick and dirty).
</span>		luaString = luaString
			:gsub(<span class="s">&quot;</span><span class="n">%-%-%[%[</span><span class="s">.-</span><span class="n">%]%]</span><span class="s">&quot;</span>, <span class="s">&quot;&quot;</span>) <span class="c">-- Multi-line.
</span>			:gsub(<span class="s">&quot;</span><span class="n">%-%-</span><span class="s">[^</span><span class="n">\n</span><span class="s">]*&quot;</span>,     <span class="s">&quot;&quot;</span>) <span class="c">-- Single line.
</span>
		<span class="k">return</span> luaString
	<span class="k">end</span>,

	filedone = <span class="k">function</span>(path, outputPath)
		print(<span class="s">&quot;... Done with &quot;</span>..path..<span class="s">&quot; (writing to &quot;</span>..outputPath..<span class="s">&quot;)&quot;</span>)
	<span class="k">end</span>,
}
</code></pre>
<h3 id="using-a-single-catch-all-message-handler">Using a single catch-all message handler<a aria-hidden="true" class="anchor" href="#using-a-single-catch-all-message-handler"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<pre class="syntax-lua"><code><span class="c">-- messageHandler.lua
</span><span class="k">return</span> <span class="k">function</span>(message, <span class="n">...</span>)
	<span class="k">if</span> message == <span class="s">&quot;beforemeta&quot;</span> <span class="k">then</span>
		<span class="k">local</span> path = <span class="n">...</span>
		print(<span class="s">&quot;... Now processing &quot;</span>..path)

	<span class="k">elseif</span> message == <span class="s">&quot;aftermeta&quot;</span> <span class="k">then</span>
		<span class="k">local</span> path, luaString = <span class="n">...</span>

		<span class="c">-- Remove comments (quick and dirty).
</span>		luaString = luaString
			:gsub(<span class="s">&quot;</span><span class="n">%-%-%[%[</span><span class="s">.-</span><span class="n">%]%]</span><span class="s">&quot;</span>, <span class="s">&quot;&quot;</span>) <span class="c">-- Multi-line.
</span>			:gsub(<span class="s">&quot;</span><span class="n">%-%-</span><span class="s">[^</span><span class="n">\n</span><span class="s">]*&quot;</span>,     <span class="s">&quot;&quot;</span>) <span class="c">-- Single line.
</span>
		<span class="k">return</span> luaString

	<span class="k">elseif</span> message == <span class="s">&quot;filedone&quot;</span> <span class="k">then</span>
		<span class="k">local</span> path, outputPath = <span class="n">...</span>
		print(<span class="s">&quot;... Done with &quot;</span>..path..<span class="s">&quot; (writing to &quot;</span>..outputPath..<span class="s">&quot;)&quot;</span>)
	<span class="k">end</span>
<span class="k">end</span>
</code></pre>
<h2 id="messages">Messages<a aria-hidden="true" class="anchor" href="#messages"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h2>
<ul>
<li><a href="#init">&quot;init&quot;</a></li>
<li><a href="#insert">&quot;insert&quot;</a></li>
<li><a href="#beforemeta">&quot;beforemeta&quot;</a></li>
<li><a href="#aftermeta">&quot;aftermeta&quot;</a></li>
<li><a href="#filedone">&quot;filedone&quot;</a></li>
<li><a href="#fileerror">&quot;fileerror&quot;</a></li>
<li><a href="#alldone">&quot;alldone&quot;</a></li>
</ul>
<h3 id="init">&quot;init&quot;<a aria-hidden="true" class="anchor" href="#init"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p>Sent before any other message.</p>
<p>Arguments:</p>
<ul>
<li>
<code>inputPaths</code>: Array of file paths to process. Paths can be added or removed freely.</li>
<li>
<code>outputPaths</code>: If the <a href="#outputpaths"><code>--outputpaths</code></a> option is present this is an array of output paths for the respective path in <code>inputPaths</code>, otherwise it&apos;s <strong>nil</strong>.</li>
</ul>
<h3 id="insert">&quot;insert&quot;<a aria-hidden="true" class="anchor" href="#insert"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><small class="tag tag-version" title="Added in version 1.11">v1.11</small>
Sent for each <a href="/luapreprocess/docs/extra-functionality/#insert-name"><code>@insert &quot;name&quot;</code></a> instruction. The handler is expected to return a Lua code string.</p>
<p>Arguments:</p>
<ul>
<li>
<code>path</code>: The file being processed.</li>
<li>
<code>name</code>: The name of the resource to be inserted (could be a file path or anything).</li>
</ul>
<h3 id="beforemeta">&quot;beforemeta&quot;<a aria-hidden="true" class="anchor" href="#beforemeta"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p>Sent before a file&apos;s metaprogram runs, if a metaprogram was generated.</p>
<p>Arguments:</p>
<ul>
<li>
<code>path</code>: The file being processed.</li>
<li>
<code>luaString</code>: <small class="tag tag-version" title="Added in version 1.21">v1.21</small> The generated metaprogram.</li>
</ul>
<h3 id="aftermeta">&quot;aftermeta&quot;<a aria-hidden="true" class="anchor" href="#aftermeta"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p>Sent after a file&apos;s metaprogram has produced output (before the output is written to a file).</p>
<p>Arguments:</p>
<ul>
<li>
<code>path</code>: The file being processed.</li>
<li>
<code>luaString</code>: The produced Lua code. You can modify this and return the modified string.</li>
</ul>
<h3 id="filedone">&quot;filedone&quot;<a aria-hidden="true" class="anchor" href="#filedone"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p>Sent after a file has finished processing and the output written to file.</p>
<p>Arguments:</p>
<ul>
<li>
<code>path</code>: The file being processed.</li>
<li>
<code>outputPath</code>: Where the output of the metaprogram was written.</li>
<li>
<code>info</code>: <a href="/luapreprocess/docs/api/#processedfileinfo"><code>processedFileInfo</code></a>.</li>
</ul>
<h3 id="fileerror">&quot;fileerror&quot;<a aria-hidden="true" class="anchor" href="#fileerror"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p>Sent if an error happens while processing a file (right before the program exits).</p>
<p>Arguments:</p>
<ul>
<li>
<code>path</code>: The file being processed.</li>
<li>
<code>error</code>: The error message.</li>
</ul>
<h3 id="alldone">&quot;alldone&quot;<a aria-hidden="true" class="anchor" href="#alldone"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p><small class="tag tag-version" title="Added in version 1.20">v1.20</small>
Sent after all other messages (right before the program exits).</p>
<p>Arguments:</p>
<ul>
<li>(none)</li>
</ul>
<h2 id="other-info">Other info<a aria-hidden="true" class="anchor" href="#other-info"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h2>
<h3 id="processinginfo">processingInfo<a aria-hidden="true" class="anchor" href="#processinginfo"><svg height="16" viewBox="0 0 16 16" width="16"><path d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z" fill-rule="evenodd"/></svg></a></h3>
<p>Table saved by the <a href="#saveinfo"><code>--saveinfo</code></a> option.
Contains these fields:</p>
<ul>
<li>
<code>date</code>: Datetime string of when the preprocessing began, e.g. <code>&quot;2019-05-21 15:28:34&quot;</code>.</li>
<li>
<code>files</code>: Array of <a href="/luapreprocess/docs/api/#processedfileinfo"><code>processedFileInfo</code></a>.</li>
</ul>

	<p style="margin-top: 4rem;">
		<small>Page updated: 2022-07-08</small>
	</p>
</main>

		</div></div>

		<footer>Copyright © 2009-2022 <a href="http://marcus.refreezed.com/">Marcus &apos;ReFreezed&apos; Thunström</a></footer>
	</body>
</html>